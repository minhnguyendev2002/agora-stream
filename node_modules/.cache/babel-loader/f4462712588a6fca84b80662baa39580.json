{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\Freelance\\\\Wm-Bank\\\\API-Examples-Web\\\\react\\\\open-live\\\\src\\\\pages\\\\meeting.jsx\";\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { useGlobalState, useGlobalMutation } from '../utils/container';\nimport useRouter from '../utils/use-router';\nimport RTCClient from '../rtc-client';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport StreamPlayer from './meeting/stream-player';\nimport StreamMenu from './meeting/stream-menu';\nconst MeetingPage = () => {\n  const routerCtx = useRouter();\n  const stateCtx = useGlobalState();\n  const mutationCtx = useGlobalMutation();\n  const onUserPublished = (remoteUser, mediaType) => {\n    // remoteUser:\n    // mediaType: \"audio\" | \"video\" | \"all\"\n    console.debug(`onUserPublished ${remoteUser.uid}, mediaType= ${mediaType}`);\n    localClient.subscribe(remoteUser, mediaType).then(mRemoteTrack => {\n      addRemoteUser(remoteUser);\n    }).catch(err => {\n      mutationCtx.toastError(`stream ${remoteUser.getId()} subscribe failed: ${err}`);\n    });\n    if (mediaType === 'video' || mediaType === 'all') {}\n    if (mediaType === 'audio' || mediaType === 'all') {}\n  };\n  const onUserUnPublished = (remoteUser, mediaType) => {\n    // remoteUser:\n    // mediaType: \"audio\" | \"video\" | \"all\"\n    console.debug(`onUserUnPublished ${remoteUser.uid}`);\n    removeRemoteUser(remoteUser);\n    if (mediaType === 'video' || mediaType === 'all') {}\n    if (mediaType === 'audio' || mediaType === 'all') {}\n  };\n  const localClient = useMemo(() => {\n    const client = new RTCClient();\n    client.createClient({\n      codec: stateCtx.codec,\n      mode: stateCtx.mode\n    });\n    client.on('connection-state-change', mutationCtx.connectionStateChanged);\n    client.on('user-published', onUserPublished);\n    client.on('user-unpublished', onUserUnPublished);\n    return client;\n    //eslint-disable-next-line\n  }, [stateCtx.codec, stateCtx.mode]);\n  const [muteVideo, setMuteVideo] = useState(stateCtx.muteVideo);\n  const [muteAudio, setMuteAudio] = useState(stateCtx.muteAudio);\n  const [isShareScreen, setShareScreen] = useState(false);\n  const [VideoTrack, setVideoTrack] = useState(null);\n  const [AudioTrack, setAudioTrack] = useState(null);\n  const [remoteUsers, setRemoteUsers] = useState({});\n  const addRemoteUser = remoteUser => {\n    remoteUsers[remoteUser.uid] = remoteUser;\n    setRemoteUsers(remoteUsers);\n  };\n  const removeRemoteUser = remoteUser => {\n    delete remoteUsers[remoteUser.uid];\n    setRemoteUsers(remoteUsers);\n  };\n  const config = useMemo(() => {\n    return {\n      token: stateCtx.config.token,\n      channel: 'kanes',\n      microphoneId: stateCtx.config.microphoneId,\n      cameraId: stateCtx.config.cameraId,\n      uid: stateCtx.config.uid,\n      host: stateCtx.config.host\n    };\n    //eslint-disable-next-line\n  }, [stateCtx, muteVideo, muteAudio]);\n  const history = routerCtx.history;\n  const params = new URLSearchParams(window.location.search);\n  useEffect(() => {\n    const roleParams = params.get('role');\n    if (!config.channel && roleParams !== 'audience') {\n      history.push('/');\n    }\n  }, [config.channel, history, params]);\n  useEffect(() => {\n    if (config.channel && localClient._created && localClient._joined === false && localClient._leave === false) {\n      localClient.setClientRole(config.host ? 'host' : 'audience');\n      localClient.join(config.channel, config.token).then(uid => {\n        config.uid = uid;\n        if (config.host) {\n          localClient.startLive(config.microphoneId, config.cameraId).then(() => {\n            setVideoTrack(localClient.mLocalVideoTrack);\n            setAudioTrack(localClient.mLocalAudioTrack);\n          });\n        }\n        mutationCtx.stopLoading();\n      }).catch(err => {\n        mutationCtx.toastError(`join error: ${err.info}`);\n        routerCtx.history.push('/');\n      });\n    }\n  }, [localClient, mutationCtx, config, routerCtx]);\n  const toggleVideo = () => {\n    const newValue = !muteVideo;\n    if (newValue) {\n      localClient._client.unpublish(VideoTrack);\n    } else {\n      localClient._client.publish(VideoTrack);\n    }\n    setMuteVideo(newValue);\n  };\n  const toggleAudio = () => {\n    const newValue = !muteAudio;\n    if (newValue) {\n      localClient._client.unpublish(AudioTrack);\n    } else {\n      localClient._client.publish(AudioTrack);\n    }\n    setMuteAudio(newValue);\n  };\n  const toggleShareScreen = () => {\n    const newValue = !isShareScreen;\n    if (newValue) {\n      setShareScreen(newValue);\n      setMuteVideo(false);\n      setMuteAudio(false);\n      localClient.stopLive();\n      localClient.startShareScrren().then(() => {\n        setVideoTrack(localClient.mLocalVideoTrack);\n        setAudioTrack(localClient.mLocalAudioTrack);\n      }).catch(err => {\n        mutationCtx.toastError(`屏幕分享失败 code= ${err.code}`);\n      });\n    } else {\n      localClient.stopShareScrren();\n      localClient.startLive(config.microphoneId, config.cameraId).then(() => {\n        setShareScreen(newValue);\n        setVideoTrack(localClient.mLocalVideoTrack);\n        setAudioTrack(localClient.mLocalAudioTrack);\n      });\n    }\n  };\n  const doLeave = () => {\n    localClient.leave().then(() => {\n      localClient.stopLive();\n      localClient.destroy();\n      routerCtx.history.push('/');\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meeting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"current-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, \"2009\", /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\",\n    fill: \"none\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    class: \"css-i6dzq1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 190\n    }\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 252\n    }\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"quit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"quit\",\n    onClick: doLeave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StreamPlayer, {\n    uid: config.uid,\n    isLocal: true,\n    videoTrack: VideoTrack,\n    audioTrack: AudioTrack,\n    muteAudio: muteAudio,\n    muteVideo: muteVideo,\n    showInfo: stateCtx.profile,\n    rtcClient: localClient._client,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, config.host ? /*#__PURE__*/React.createElement(StreamMenu, {\n    muteAudio: muteAudio,\n    muteVideo: muteVideo,\n    shareScreen: isShareScreen,\n    toggleVideo: toggleVideo,\n    toggleAudio: toggleAudio,\n    toggleShareScreen: toggleShareScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 36\n    }\n  }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stream-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, Object.values(remoteUsers).map(remoteUser => {\n    return /*#__PURE__*/React.createElement(StreamPlayer, {\n      key: `key-${remoteUser.uid}`,\n      uid: remoteUser.uid,\n      videoTrack: remoteUser.videoTrack,\n      audioTrack: remoteUser.audioTrack,\n      muteAudio: false,\n      muteVideo: false,\n      showInfo: false,\n      rtcClient: localClient._client,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 32\n      }\n    });\n  }))));\n};\nexport default React.memo(MeetingPage);","map":{"version":3,"names":["React","useEffect","useState","useMemo","useGlobalState","useGlobalMutation","useRouter","RTCClient","Tooltip","StreamPlayer","StreamMenu","MeetingPage","routerCtx","stateCtx","mutationCtx","onUserPublished","remoteUser","mediaType","console","debug","uid","localClient","subscribe","then","mRemoteTrack","addRemoteUser","catch","err","toastError","getId","onUserUnPublished","removeRemoteUser","client","createClient","codec","mode","on","connectionStateChanged","muteVideo","setMuteVideo","muteAudio","setMuteAudio","isShareScreen","setShareScreen","VideoTrack","setVideoTrack","AudioTrack","setAudioTrack","remoteUsers","setRemoteUsers","config","token","channel","microphoneId","cameraId","host","history","params","URLSearchParams","window","location","search","roleParams","get","push","_created","_joined","_leave","setClientRole","join","startLive","mLocalVideoTrack","mLocalAudioTrack","stopLoading","info","toggleVideo","newValue","_client","unpublish","publish","toggleAudio","toggleShareScreen","stopLive","startShareScrren","code","stopShareScrren","doLeave","leave","destroy","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","width","height","stroke","fill","class","d","cx","cy","r","title","onClick","isLocal","videoTrack","audioTrack","showInfo","profile","rtcClient","shareScreen","Object","values","map","key","memo"],"sources":["D:/Project/Freelance/Wm-Bank/API-Examples-Web/react/open-live/src/pages/meeting.jsx"],"sourcesContent":["import React, {useEffect, useState, useMemo} from 'react'\nimport {useGlobalState, useGlobalMutation} from '../utils/container'\nimport useRouter from '../utils/use-router'\nimport RTCClient from '../rtc-client'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport StreamPlayer from './meeting/stream-player'\nimport StreamMenu from './meeting/stream-menu'\n\nconst MeetingPage = () => {\n    const routerCtx = useRouter()\n    const stateCtx = useGlobalState()\n    const mutationCtx = useGlobalMutation()\n\n    const onUserPublished = (remoteUser, mediaType) => {\n        // remoteUser:\n        // mediaType: \"audio\" | \"video\" | \"all\"\n        console.debug(`onUserPublished ${remoteUser.uid}, mediaType= ${mediaType}`)\n        localClient.subscribe(remoteUser, mediaType)\n            .then(mRemoteTrack => {\n                addRemoteUser(remoteUser)\n            })\n            .catch(err => {\n                mutationCtx.toastError(\n                    `stream ${remoteUser.getId()} subscribe failed: ${err}`\n                )\n            })\n\n        if (mediaType === 'video' || mediaType === 'all') {\n\n        }\n\n        if (mediaType === 'audio' || mediaType === 'all') {\n\n        }\n    }\n\n    const onUserUnPublished = (remoteUser, mediaType) => {\n        // remoteUser:\n        // mediaType: \"audio\" | \"video\" | \"all\"\n        console.debug(`onUserUnPublished ${remoteUser.uid}`)\n        removeRemoteUser(remoteUser)\n        if (mediaType === 'video' || mediaType === 'all') {\n\n        }\n\n        if (mediaType === 'audio' || mediaType === 'all') {\n\n        }\n    }\n\n    const localClient = useMemo(() => {\n        const client = new RTCClient()\n        client.createClient({codec: stateCtx.codec, mode: stateCtx.mode})\n\n        client.on('connection-state-change', mutationCtx.connectionStateChanged)\n        client.on('user-published', onUserPublished)\n        client.on('user-unpublished', onUserUnPublished)\n\n        return client\n        //eslint-disable-next-line\n    }, [stateCtx.codec, stateCtx.mode])\n\n    const [muteVideo, setMuteVideo] = useState(stateCtx.muteVideo)\n    const [muteAudio, setMuteAudio] = useState(stateCtx.muteAudio)\n    const [isShareScreen, setShareScreen] = useState(false)\n    const [VideoTrack, setVideoTrack] = useState(null)\n    const [AudioTrack, setAudioTrack] = useState(null)\n    const [remoteUsers, setRemoteUsers] = useState({})\n\n    const addRemoteUser = (remoteUser) => {\n        remoteUsers[remoteUser.uid] = remoteUser\n        setRemoteUsers(remoteUsers)\n    }\n\n    const removeRemoteUser = (remoteUser) => {\n        delete remoteUsers[remoteUser.uid]\n        setRemoteUsers(remoteUsers)\n    }\n\n    const config = useMemo(() => {\n        return {\n            token: stateCtx.config.token,\n            channel: 'kanes',\n            microphoneId: stateCtx.config.microphoneId,\n            cameraId: stateCtx.config.cameraId,\n            uid: stateCtx.config.uid,\n            host: stateCtx.config.host\n        }\n        //eslint-disable-next-line\n    }, [stateCtx, muteVideo, muteAudio])\n\n    const history = routerCtx.history\n\n    const params = new URLSearchParams(window.location.search)\n\n    useEffect(() => {\n        const roleParams = params.get('role')\n        if (!config.channel && roleParams !== 'audience') {\n            history.push('/')\n        }\n    }, [config.channel, history, params])\n\n    useEffect(() => {\n        if (\n            config.channel &&\n            localClient._created &&\n            localClient._joined === false &&\n            localClient._leave === false\n        ) {\n            localClient.setClientRole(config.host ? 'host' : 'audience')\n            localClient.join(config.channel, config.token)\n                .then((uid) => {\n                    config.uid = uid\n\n                    if (config.host) {\n                        localClient.startLive(config.microphoneId, config.cameraId)\n                            .then(() => {\n                                setVideoTrack(localClient.mLocalVideoTrack)\n                                setAudioTrack(localClient.mLocalAudioTrack)\n                            })\n                    }\n                    mutationCtx.stopLoading()\n                })\n                .catch((err) => {\n                    mutationCtx.toastError(`join error: ${err.info}`)\n                    routerCtx.history.push('/')\n                })\n        }\n    }, [localClient, mutationCtx, config, routerCtx])\n\n    const toggleVideo = () => {\n        const newValue = !muteVideo\n        if (newValue) {\n            localClient._client.unpublish(VideoTrack)\n        } else {\n            localClient._client.publish(VideoTrack)\n        }\n        setMuteVideo(newValue)\n    }\n\n    const toggleAudio = () => {\n        const newValue = !muteAudio\n        if (newValue) {\n            localClient._client.unpublish(AudioTrack)\n        } else {\n            localClient._client.publish(AudioTrack)\n        }\n        setMuteAudio(newValue)\n    }\n\n    const toggleShareScreen = () => {\n        const newValue = !isShareScreen\n        if (newValue) {\n            setShareScreen(newValue)\n\n            setMuteVideo(false)\n            setMuteAudio(false)\n\n            localClient.stopLive()\n            localClient.startShareScrren()\n                .then(() => {\n                    setVideoTrack(localClient.mLocalVideoTrack)\n                    setAudioTrack(localClient.mLocalAudioTrack)\n                })\n                .catch((err) => {\n                    mutationCtx.toastError(`屏幕分享失败 code= ${err.code}`)\n                })\n        } else {\n            localClient.stopShareScrren()\n            localClient.startLive(config.microphoneId, config.cameraId)\n                .then(() => {\n                    setShareScreen(newValue)\n\n                    setVideoTrack(localClient.mLocalVideoTrack)\n                    setAudioTrack(localClient.mLocalAudioTrack)\n                })\n        }\n    }\n\n    const doLeave = () => {\n        localClient.leave().then(() => {\n            localClient.stopLive()\n            localClient.destroy()\n            routerCtx.history.push('/')\n        })\n    }\n\n    return (\n        <div className=\"meeting\">\n            <div className=\"current-view\">\n                <div className=\"nav\">\n                    <div className=\"avatar-container\">\n                        2009\n                        <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path><circle cx=\"12\" cy=\"12\" r=\"3\"></circle></svg>\n                    </div>\n                    <Tooltip title=\"quit\">\n                        <div\n                            className=\"quit\"\n                            onClick={doLeave}\n                        ></div>\n                    </Tooltip>\n                </div>\n                <div class>\n                <StreamPlayer\n                    uid={config.uid}\n                    isLocal={true}\n                    videoTrack={VideoTrack}\n                    audioTrack={AudioTrack}\n                    muteAudio={muteAudio}\n                    muteVideo={muteVideo}\n                    showInfo={stateCtx.profile}\n                    rtcClient={localClient._client}\n                >\n                    {config.host ? <StreamMenu\n                        muteAudio={muteAudio}\n                        muteVideo={muteVideo}\n                        shareScreen={isShareScreen}\n                        toggleVideo={toggleVideo}\n                        toggleAudio={toggleAudio}\n                        toggleShareScreen={toggleShareScreen}\n                    /> : null}\n                </StreamPlayer>\n                </div>\n                <div className=\"stream-container\">\n                    {Object.values(remoteUsers).map(remoteUser => {\n                        return <StreamPlayer\n                            key={`key-${remoteUser.uid}`}\n                            uid={remoteUser.uid}\n                            videoTrack={remoteUser.videoTrack}\n                            audioTrack={remoteUser.audioTrack}\n                            muteAudio={false}\n                            muteVideo={false}\n                            showInfo={false}\n                            rtcClient={localClient._client}\n                        />\n                    })}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default React.memo(MeetingPage)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}